{"version":3,"file":"5.chunk.js","sources":["webpack:///./src/app/login/login.component.ts","webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.style.scss","webpack:///./src/app/login/login.template.html"],"sourcesContent":["import { Component, ViewEncapsulation } from '@angular/core';\nimport { Input } from '@angular/core';\nimport { UsersService } from '../services/UsersService';\nimport { SessionStorage } from 'angular2-localstorage/WebStorage';\nimport { Router } from '@angular/router';\nimport { UsersModel } from '../models/UsersModel';\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'login',\n  styles: [require('./login.style.scss')],\n  template: require('./login.template.html'),\n  providers: [UsersService],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'login-page app'\n  }\n})\nexport class Login {\n  @Input() Email: string = \"\";\n  @Input() Password: string;\n\n  public userService: UsersService;\n  public router: any;\n\n  constructor(public _userService: UsersService, router: Router) {\n\n    this.router = router;\n\n    this._userService.authenticateToken().subscribe(\n      a => {\n        sessionStorage.setItem('token', a.token);\n      }\n    );\n  }\n\n  onKey(event) {\n    if (event.keyCode == 13) {\n      jQuery('#wrongLogin').hide();\n      jQuery('#enterEmail').hide();\n      jQuery('#enterPassword').hide();\n      if (this.Email == \"\") {\n        jQuery('#enterEmail').show();\n      }\n      if (this.Password == \"\" || this.Password === undefined) {\n        jQuery('#enterPassword').show();\n      }\n      if (this.Email != \"\" && this.Password != \"\") {\n        jQuery('#loader').show();\n        jQuery('#btns').hide();\n\n        this._userService.authenticateAdminUser(this.Email, this.Password, sessionStorage.getItem('token')).subscribe(\n          a => {\n            if (a.code == 200) {\n              sessionStorage.setItem('userId', a.data._id);\n              sessionStorage.setItem('role', a.data.role);\n              sessionStorage.setItem('userObject', JSON.stringify(a.data));\n              this.router.navigate(['/app/dashboard']);\n              jQuery('#btns').show();\n              jQuery('#loader').hide();\n            }\n            else {\n              jQuery('#btns').show();\n              jQuery('#loader').hide();\n              jQuery('#wrongLogin').show();\n\n            }\n          }\n        );\n      }\n    }\n  }\n\n\n\n  onSubmit() {\n    jQuery('#wrongLogin').hide();\n    jQuery('#enterEmail').hide();\n    jQuery('#enterPassword').hide();\n    if (this.Email == \"\") {\n      jQuery('#enterEmail').show();\n    }\n    if (this.Password == \"\" || this.Password === undefined) {\n      jQuery('#enterPassword').show();\n    }\n    if (this.Email != \"\" && this.Password != \"\") {\n      jQuery('#loader').show();\n      jQuery('#btns').hide();\n\n      this._userService.authenticateAdminUser(this.Email, this.Password, sessionStorage.getItem('token')).subscribe(\n        a => {\n          if (a.code == 200) {\n            sessionStorage.setItem('userId', a.data._id);\n            sessionStorage.setItem('role', a.data.role);\n            sessionStorage.setItem('userObject', JSON.stringify(a.data)); \n            this.router.navigate(['/app/dashboard']);\n            jQuery('#btns').show();\n            jQuery('#loader').hide();\n          }\n          else {\n            jQuery('#btns').show();\n            jQuery('#loader').hide();\n            jQuery('#wrongLogin').show();\n\n          }\n        }\n      );\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/login/login.component.ts","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { Login } from './login.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: Login, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Login\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n  ]\r\n})\r\nexport default class LoginModule {\r\n  static routes = routes;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/login/login.module.ts","module.exports = \"/***********************************/\\n/**             LOGIN             **/\\n/***********************************/\\n.login-page {\\n  background-color: #DDDDDD; }\\n\\n.mr-n-lg {\\n  text-decoration: underline;\\n  margin-right: 25px;\\n  color: #215497; }\\n\\n.sign-in-btn {\\n  background-color: #009E0F;\\n  color: white;\\n  font-size: 16px;\\n  padding: 8px 30px 8px 30px; }\\n\\n.login-page .page-footer {\\n  margin-bottom: 25px;\\n  font-size: 13px;\\n  color: #818a91;\\n  text-align: center; }\\n  @media (min-height: 600px) {\\n    .login-page .page-footer {\\n      position: absolute;\\n      bottom: 0;\\n      left: 0;\\n      right: 0; } }\\n\\n.widget-login-container {\\n  padding-top: 10%; }\\n\\n.widget-login-logo {\\n  margin-top: 15px;\\n  margin-bottom: 15px;\\n  text-align: center;\\n  font-weight: 400; }\\n  .widget-login-logo .fa-circle {\\n    font-size: 13px;\\n    margin: 0 20px; }\\n\\nheader h3 {\\n  font-weight: bold;\\n  text-align: center;\\n  font-size: 36px; }\\n\\n.widget-login {\\n  padding: 30px;\\n  border-radius: 0.8rem; }\\n  .widget-login > header h1, .widget-login > header h2, .widget-login > header h4, .widget-login > header h5, .widget-login > header h6 {\\n    font-weight: 400;\\n    text-align: center; }\\n\\n.widget-login-info {\\n  font-size: 19px;\\n  color: BLACK;\\n  margin-top: 1px;\\n  margin-bottom: 0;\\n  text-align: center; }\\n  .widget-login-info.abc-checkbox {\\n    margin-left: -25px; }\\n\\n.login-form .form-control {\\n  font-size: 13px;\\n  border: none;\\n  color: black;\\n  background-color: transparent;\\n  border: 2px solid black;\\n  border-radius: 0; }\\n  .login-form .form-control:focus {\\n    background-color: transparent; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.style.scss\n// module id = ./src/app/login/login.style.scss\n// module chunks = 5","module.exports = \"<div class=\\\"container\\\">\\r\\n  <main id=\\\"content\\\" class=\\\"widget-login-container\\\" role=\\\"main\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-xl-4 col-md-6 col-xs-10 offset-xl-4 offset-md-3 offset-xs-1\\\">\\r\\n<!--        <h5 class=\\\"widget-login-logo animated fadeInUp\\\">\\r\\n          <i class=\\\"fa fa-circle text-gray\\\"></i>\\r\\n          april\\r\\n          <i class=\\\"fa fa-circle text-warning\\\"></i>\\r\\n        </h5> -->\\r\\n        <section class=\\\"widget widget-login animated fadeInUp\\\">\\r\\n          <header>\\r\\n            <h3>KPA</h3>\\r\\n          </header>\\r\\n          <div class=\\\"widget-body\\\">\\r\\n            <p class=\\\"widget-login-info\\\" style=\\\"font-weight:bold\\\">\\r\\n              Kuwait Philanthropy App\\r\\n            </p>\\r\\n            <p class=\\\"widget-login-info\\\" style=\\\"font-weight:bold\\\">\\r\\n              Administrator Login\\r\\n            </p>\\r\\n            <form class=\\\"login-form mt-lg\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"Email\\\" maxlength=\\\"30\\\" name=\\\"Email\\\" class=\\\"form-control\\\" id=\\\"exampleInputEmail1\\\" placeholder=\\\"Username\\\">\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <input [(ngModel)]=\\\"Password\\\" name=\\\"Password\\\" maxlength=\\\"20\\\" (keyup)=\\\"onKey($event)\\\" class=\\\"form-control\\\" id=\\\"pswd\\\" type=\\\"password\\\" placeholder=\\\"Password\\\">\\r\\n              </div>\\r\\n              <div id=\\\"wrongLogin\\\" style=\\\"display:none\\\" class=\\\"form-group\\\">\\r\\n                <div class=\\\"alert alert-danger alert-sm\\\">\\r\\n                  <span class=\\\"fw-semi-bold\\\">Danger:</span> Invalid User Name or Password.\\r\\n                </div>\\r\\n              </div>\\r\\n              <div id=\\\"enterEmail\\\" style=\\\"display:none\\\" class=\\\"form-group\\\">\\r\\n                <div class=\\\"alert alert-warning alert-sm\\\">\\r\\n                  <span class=\\\"fw-semi-bold\\\">Warning:</span> Please Enter Email.\\r\\n                </div>\\r\\n              </div>\\r\\n              <div id=\\\"enterPassword\\\" style=\\\"display:none\\\" class=\\\"form-group\\\">\\r\\n                <div class=\\\"alert alert-warning alert-sm\\\">\\r\\n                  <span class=\\\"fw-semi-bold\\\">Warning:</span> Please Enter Password.\\r\\n                </div>\\r\\n              </div>\\r\\n              <div id=\\\"btns\\\" class=\\\"clearfix\\\">\\r\\n                <div class=\\\"btn-toolbar pull-xs-right m-t-1\\\">\\r\\n                   <a class=\\\"mr-n-lg\\\" href=\\\"#\\\">Forgot Password</a>\\r\\n                <!--  <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\">Create an Account</button> -->\\r\\n                  <a (click)=\\\"onSubmit()\\\" class=\\\"btn sign-in-btn btn-sm\\\" style=\\\"color:white;\\\">Sign In</a>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div id=\\\"loader\\\" class=\\\"clearfix\\\" style=\\\"text-align: center;display: none\\\">\\r\\n                <i class=\\\"fa fa-spinner fa-spin\\\" style=\\\"font-size:24px\\\"></i>\\r\\n              </div>\\r\\n              <div class=\\\"row m-t-1\\\">\\r\\n                <div class=\\\"col-md-6 push-md-6\\\">\\r\\n                  <div class=\\\"clearfix\\\">\\r\\n                    <!--<div class=\\\"abc-checkbox widget-login-info pull-xs-right\\\">\\r\\n                      <input type=\\\"checkbox\\\" id=\\\"checkbox1\\\" value=\\\"1\\\">\\r\\n                      <label for=\\\"checkbox1\\\">Keep me signed in </label>\\r\\n                    </div> -->\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n              <!--  <div class=\\\"col-md-6 pull-md-6\\\">\\r\\n                  <a class=\\\"mr-n-lg\\\" href=\\\"#\\\">Trouble with account?</a>\\r\\n                </div> -->\\r\\n              </div>\\r\\n            </form>\\r\\n          </div>\\r\\n        </section>\\r\\n      </div>\\r\\n    </div>\\r\\n  </main>\\r\\n <!-- <footer class=\\\"page-footer\\\">\\r\\n    2016 &copy; Sing. Admin Dashboard Template.\\r\\n  </footer> -->\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.template.html\n// module id = ./src/app/login/login.template.html\n// module chunks = 5"],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;AAcA;AAOA;AAAA;AANA;AAQA;AAEA;AAEA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAzFA;AAAA;;AAAA;AACA;AAAA;;AAAA;AAZA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA4FA;;AAAA;AA3FA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAYA;AAAA;AAEA;AADA;AAXA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAGA;AAAA;AAFA;AAEA;;;;;;;;ACvBA;;;;;;;ACAA;;;;","sourceRoot":""}